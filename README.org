* OrgTp

  OrgTp shows ascii table like emacs org-table for easy reading.

** Install

#+BEGIN_SRC shell
gem install org_tp
#+END_SRC

** Examples

*** Hash of Array

#+BEGIN_SRC ruby
tp [{id: 1, name: "alice"}, {id: 2, name: "bob"}]
# >> |----+-------|
# >> | id | name  |
# >> |----+-------|
# >> |  1 | alice |
# >> |  2 | bob   |
# >> |----+-------|
#+END_SRC

*** Hash

#+BEGIN_SRC ruby
tp({id: 1, name: "alice"})
# >> |------+-------|
# >> | id   |     1 |
# >> | name | alice |
# >> |------+-------|
#+END_SRC

*** Integer, String, Symbol

#+BEGIN_SRC ruby
tp 1
# >> |---|
# >> | 1 |
# >> |---|
#+END_SRC

#+BEGIN_SRC ruby
tp "foo"
# >> |-----|
# >> | foo |
# >> |-----|
#+END_SRC

#+BEGIN_SRC ruby
tp :foo
# >> |-----|
# >> | foo |
# >> |-----|
#+END_SRC

*** ActiveRecord and Mongoid

#+BEGIN_SRC ruby
["alice", "bob"].each {|e| User.create!(name: e) }
#+END_SRC

#+BEGIN_SRC ruby
tp User
# >> |----+-------|
# >> | id | name  |
# >> |----+-------|
# >> |  1 | alice |
# >> |  2 | bob   |
# >> |----+-------|
#+END_SRC

#+BEGIN_SRC ruby
tp User.limit(1)
# >> |----+-------|
# >> | id | name  |
# >> |----+-------|
# >> |  1 | alice |
# >> |----+-------|
#+END_SRC

#+BEGIN_SRC ruby
tp User.first
# >> |------+-------|
# >> | id   |     1 |
# >> | name | alice |
# >> |------+-------|
#+END_SRC

**** ActiveRecord::Result

#+BEGIN_SRC ruby
tp ActiveRecord::Base.connection.select_all("SELECT * FROM users")
# >> |----+-------|
# >> | id | name  |
# >> |----+-------|
# >> |  1 | alice |
# >> |  2 | bob   |
# >> |----+-------|
#+END_SRC

*** How to table as string

#+BEGIN_SRC ruby
puts [{id: 1, name: "alice"}, {id: 2, name: "bob"}].to_t
# >> |----+-------|
# >> | id | name  |
# >> |----+-------|
# >> |  1 | alice |
# >> |  2 | bob   |
# >> |----+-------|
#+END_SRC

*** Global Options

#+BEGIN_SRC ruby
tp OrgTp::Generator.default_options
# >> |-------------------+-------|
# >> | header            |       |
# >> | vertical          | |     |
# >> | intersection      | +     |
# >> | intersection_both | |     |
# >> | horizon           | -     |
# >> | padding           |       |
# >> | in_code           | UTF-8 |
# >> |-------------------+-------|

tp 1
# >> |---|
# >> | 1 |
# >> |---|

OrgTp::Generator.default_options[:intersection_both] = "+"

tp 1
# >> +---+
# >> | 1 |
# >> +---+
#+END_SRC
